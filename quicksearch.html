<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Global Type Definitions EnrollmentResponse Type: Object Properties: Name Type Description enrollmentCert string PEM-encoded X509 enrollment certificate caCertChain string PEM-encoded X509 certificate chain for the issuing certificate authority HTTPEndpoint Type: Object Properties: Name Type Description hostname string port number protocol string KeyValueAttribute Type: Object Properties: Name Type Description name string The key used to reference the attribute value string The value of the attribute TLSOptions Type: Object Properties: Name Type Argument Default Description trustedRoots Array.&lt;string&gt; Array of PEM-encoded trusted root certificates verify boolean &lt;optional&gt; true Determines whether or not to verify the server certificate when using TLS × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Modules Classes Chain Client CouchDBKeyValueStore CryptoKeyStore CryptoSuite_ECDSA_AES CryptoSuite_PKCS11 EventHub FabricCAClient FabricCAServices FileKeyValueStore CryptoSuite Key KeyValueStore Orderer Peer Remote User × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Classes Classes Chain Client CouchDBKeyValueStore CryptoKeyStore CryptoSuite_ECDSA_AES CryptoSuite_PKCS11 EventHub FabricCAClient FabricCAServices FileKeyValueStore CryptoSuite Key KeyValueStore Orderer Peer Remote User × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Tutorials Classes Chain Client CouchDBKeyValueStore CryptoKeyStore CryptoSuite_ECDSA_AES CryptoSuite_PKCS11 EventHub FabricCAClient FabricCAServices FileKeyValueStore CryptoSuite Key KeyValueStore Orderer Peer Remote User × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Hyperledger Fabric SDK for Node.jsThe Hyperledger Fabric SDK for Node.js provides a powerful API to interact with a Hyperledger Fabric v1.0 blockchain. The SDK is designed to be used in the Node.js JavaScript runtime. OverviewHyperledger Fabric is the operating system of an enterprise-strength permissioned blockchain network. For a high-level overview of the fabric, visit http://hyperledger-fabric.readthedocs.io/en/latest/. Applications can be developed to interact with the blockchain network on behalf of the users. APIs are available to: create channels ask peer nodes to join the channel install chaincodes in peers instantiate chaincodes in a channel invoke transactions by calling the chaincode query the ledger for transactions or blocks How Different Components of the Fabric Work TogetherThe Transaction Flow document provides an excellent description of the application/SDK, peers, and orderers working together to process transactions and producing blocks. Security on the Fabric is enforced with digital signatures. All requests made to the fabric must be signed by users with appropriate enrollment certificates. For a user's enrollment certificate to be considered valid on the Fabric, it must be signed by a trusted Certificate Authority (CA). Fabric supports any standard CAs. In addition, Fabric provides a CA server. See this overview. Features of the SDK for Node.jsThe Hyperledger Fabric SDK for Node.js is designed in an Object-Oriented programming style. Its modular construction enables application developers to plug in alternative implementations of key functions such as crypto suites, the state persistence store, and logging utility. The SDK's list of features include: fabric-client: create a new channel send channel information to a peer to join install chaincode on a peer instantiate chaincode in a channel, which involves two steps: propose and transact submitting a transaction, which also involves two steps: propose and transact query a chaincode for the latest application state various query capabilities: chain height block-by-number, block-by-hash all channels that a peer is part of all installed chaincodes in a peer all instantiated chaincodes in a channel transaction-by-id channel configuration data monitoring events: connect to a peer's event stream listen on block events listen on transactions events and find out if the transaction was successfully committed to the ledger or marked invalid listen on custom events produced by chaincodes serializable User object with signing capabilities hierarchical configuration settings with multiple layers of overrides: files, environment variable, program arguments, in-memory settings logging utility with a built-in logger (winston) and can be overriden with a number of popular loggers including log4js and bunyan pluggable CryptoSuite interface describe the cryptographic operations required for successful interactions with the Fabric. Two implementations are provided out of box: Software-based ECDSA PKCS#11-compliant ECDSA pluggable State Store interface for persisting state caches such as users File-based store CouchDB-base store which works with both CouchDB database and IBM Cloudant customizable Crypto Key Store for any software-based cryptographic suite implementation supports both TLS (grpcs://) or non-TLS (grpc://) connections to peers and orderers, see Remote which is the superclass for peers and orderers fabric-ca-client: register a new user enroll a user to obtain the enrollment certificate signed by the Fabric CA revoke an existing user by enrollment ID or revoke a specific certificate customizable persistence store API ReferenceThe SDK is made up of 3 top-level modules that can be accessed through the navigation menu Modules: api: pluggable APIs for application developers to supply alternative implementations of key interfaces used by the SDK. For each interface there are built-in default implementations. fabric-client: this module provides APIs to interact with the core components of a Hypreledger Fabric-based blockchain network, namely the peers, orderers and event streams. fabric-ca-client: this module provides APIs to interact with the optional component, fabric-ca, that contains services for membership management. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"Chain.html":{"id":"Chain.html","title":"Class: Chain","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: Chain Chain The class representing a chain with which the client SDK interacts. The “Chain” object captures settings for a channel, which is created by the orderers to isolate transactions delivery to peers participating on channel. A chain must be initialized after it has been configured with the list of peers and orderers. The initialization sends a get configuration block request to the primary orderer to retrieve the configuration settings for this channel. new Chain(name, clientContext) Parameters: Name Type Description name string to identify different chain instances. The naming of chain instances is enforced by the ordering service and must be unique within the blockchain network clientContext Client An instance of Client that provides operational context such as submitting User etc. Tutorials: Tutorial: app-overview Methods addOrderer(orderer) Add orderer endpoint to a chain object, this is a local-only operation. A chain instance may choose to use a single orderer node, which will broadcast requests to the rest of the orderer network. Or if the application does not trust the orderer nodes, it can choose to use more than one by adding them to the chain instance. All APIs concerning the orderer will broadcast to all orderers simultaneously. Parameters: Name Type Description orderer Orderer An instance of the Orderer class. Throws: if the orderer with that url already exists. Type Error addPeer(peer) Add peer endpoint to chain. Parameters: Name Type Description peer Peer An instance of the Peer class that has been initialized with URL, TLC certificate, and enrollment certificate. Throws: if the peer with that url already exists. Type Error buildTransactionID(nonce, userContext) Utility method to build an unique transaction id based on a nonce and this chain's user. Parameters: Name Type Description nonce int a one time use number userContext User the user context Returns: An unique string Type string buildTransactionID_getUserContext(nonce) Utility method to build an unique transaction id based on a nonce and this chain's user. Gets the user context. Parameters: Name Type Description nonce int a one time use number Returns: A promise for the transaction id Type Promise createChannel(request) Calls the orderer(s) to start building the new chain. Only one of the application instances needs to call this method. Once the chain is successfully created, this and other application instances only need to call joinChannel() to participate on the channel. Parameters: Name Type Description request Object An object containing the following field: `envelope` : required - byte[] of the envelope object containing all required settings to initialize this channel Returns: Whether the chain initialization process was successful. Type boolean getChannelConfig() Queries for the current config block for this chain(channel). This transaction will be made to the orderer. See: /protos/orderer/ab.proto /protos/common/configtx.proto Returns: Object containing the configuration items. Type ConfigEnvelope getMSPManager() Get the MSP Manager for this channel Returns: Type MSPManager getName() Get the chain name. Returns: The name of the chain. Type string getOrderers() Get orderers of a chain. getOrganizationUnits() Get organizational unit identifiers from the MSP's for this channel Returns: Type Array.&lt;string&gt; getPeers() Get peers of a chain from local information. Returns: The peer list on the chain. Type Array.&lt;Peer&gt; getPrimaryPeer() Get the primary peer The peer to use for doing queries. Default: When no primary peer has been set the first peer on the list will be used. Returns: peer An instance of the Peer class. Type Peer getTCertBatchSize() Get the tcert batch size. initialize() Retrieve the configuration from the primary orderer and initialize this chain (channel) with those values. Currently only the MSP config value of the channel is loaded into this chain. isDevMode() Determine if dev mode is enabled. isPreFetchMode() Determine if pre-fetch mode is enabled to prefetch tcerts. isReadonly() Get chain status to see if the underlying channel has been terminated, making it a read-only chain, where information (transactions and states) can be queried but no new transactions can be submitted. Returns: Is read-only, true or not. Type boolean isSecurityEnabled() Determine if security is enabled. joinChannel(request) Sends a join channel proposal to one or more endorsing peers Will get the genesis block from the defined orderer to be used in the proposal. Parameters: Name Type Description request Object An object containing the following fields: `targets` : required - An array of `Peer` objects that will join this channel `txId` : required - String of the transaction id `nonce` : required - Integer of the once time number See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise queryBlock(blockNumber) Queries the ledger for Block by block number. This query will be made to the primary peer. Parameters: Name Type Description blockNumber number The number which is the ID of the Block. Returns: Object containing the block. Type object queryBlockByHash(block) Queries the ledger for Block by block hash. This query will be made to the primary peer. Parameters: Name Type Description block Array.&lt;byte&gt; hash of the Block. Returns: Object containing the block. Type object queryByChaincode(request) Sends a proposal to one or more endorsing peers that will be handled by the chaincode. This request will be presented to the chaincode 'invoke' and must understand from the arguments that this is a query request. The chaincode must also return results in the byte array format and the caller will have to be able to decode these results Parameters: Name Type Description request Object A JSON object with the following targets : An array or single Endorsing Peer objects as the targets of the request chaincodeId : The id of the chaincode to perform the query `args` : an array of arguments specific to the chaincode 'innvoke' that represent a query invocation on that chaincode Returns: A Promise for an array of byte array results from the chaincode on all Endorsing Peers Type Promise queryChannels(peer) Queries the names of all the channels that a peer has joined. Parameters: Name Type Description peer Peer Returns: ChannelQueryResponse proto Type object queryInfo() Queries for various useful information on the state of the Chain (height, known peers). This query will be made to the primary peer. Returns: With height, currently the only useful info. Type object queryInstalledChaincodes(peer) Queries the installed chaincodes on a peer returning the details of all chaincodes installed on a peer. Parameters: Name Type Description peer Peer Returns: ChaincodeQueryResponse proto Type object queryInstantiatedChaincodes() Queries the instantiated chaincodes on this channel. Returns: ChaincodeQueryResponse proto Type object queryTransaction(transactionID) Queries the ledger for Transaction by number. This query will be made to the primary peer. Parameters: Name Type Description transactionID number Returns: Transaction information containing the transaction. Type object removeOrderer(orderer) Remove orderer endpoint from a chain object, this is a local-only operation. Parameters: Name Type Description orderer Orderer An instance of the Orderer class. removePeer(peer) Remove peer endpoint from chain. Parameters: Name Type Description peer Peer An instance of the Peer class. sendInstallProposal(request) Sends an install proposal to one or more endorsing peers. Parameters: Name Type Description request Object An object containing the following fields: `chaincodePath` : required - String of the path to location of the source code of the chaincode `chaincodeId` : required - String of the name of the chaincode `chaincodeVersion` : required - String of the version of the chaincode `chaincodePackage` : optional - Byte array of the archive content for the chaincode source. The archive must have a 'src' folder containing subfolders corresponding to the 'chaincodePath' field. For instance, if the chaincodePath is 'mycompany/myproject', then the archive must contain a folder at the path 'src/mycompany/myproject', where the GO source code resides. `chaincodeType` : optional - Type of chaincode ['golang', 'car', 'java'] (default 'golang') `txId` : required - String of the transaction id `nonce` : required - Integer of the once time number See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise sendInstantiateProposal(request) Sends an instantiate proposal to one or more endorsing peers. Parameters: Name Type Description request Object An object containing the following fields: `chaincodeType` : optional -- Type of chaincode ['golang', 'car', 'java'] (default 'golang') `chaincodePath` : required - String of the path to location of the source code of the chaincode `chaincodeId` : required - String of the name of the chaincode `chaincodeVersion` : required - String of the version of the chaincode `chainId` : required - String of the name of the chain `txId` : required - String of the transaction id `nonce` : required - Integer of the once time number `fcn` : optional - String of the function to be called on the chaincode once instantiated (default 'init') `args` : optional - String Array arguments specific to the chaincode being instantiated See: /protos/peer/proposal_response.proto Returns: A Promise for a `ProposalResponse` Type Promise sendTransaction(proposalResponses, chaincodeProposal) Sends the orderer an endorsed proposal. The caller must use the proposal response returned from the endorser along with the original proposal request sent to the endorser. Parameters: Name Type Description proposalResponses Array An array or single {ProposalResponse} objects containing the response from the endorsement chaincodeProposal Proposal A Proposal object containing the original request for endorsement(s) See: /protos/peer/proposal_response.proto /protos/peer/proposal.proto /protos/orderer/ab.proto Returns: A Promise for a `BroadcastResponse`. This will be an acknowledgement from the orderer of successfully submitted transaction. Type Promise sendTransactionProposal(request) Sends a transaction proposal to one or more endorsing peers. Parameters: Name Type Description request Object `chaincodeId` : The id of the chaincode to perform the transaction proposal `chainId` : required - String of the name of the chain `txId` : required - String of the transaction id `nonce` : required - Integer of the once time number `args` : an array of arguments specific to the chaincode 'invoke' Returns: A Promise for a `ProposalResponse` Type Promise setDevMode() Set dev mode to true or false. setMSPManager(the) Set the MSP Manager for this channel This utility method will not normally be use as the `initialize()` method will read this channel's current configuration and reset MSPManager with the MSP's found. Parameters: Name Type Description the MSPManager msp manager for this channel setPreFetchMode() Set prefetch mode to true or false. setPrimaryPeer(peer) Set the primary peer The peer to use for doing queries. Peer must be a peer on this chain's peer list. Default: When no primary peer has been set the first peer on the list will be used. Parameters: Name Type Description peer Peer An instance of the Peer class. Throws: Error when peer is not on the existing peer list setTCertBatchSize() Set the tcert batch size. toString() return a printable representation of this object updateChain() Calls the orderer(s) to update an existing chain. This allows the addition and deletion of Peer nodes to an existing chain, as well as the update of Peer certificate information upon certificate renewals. Returns: Whether the chain update process was successful. Type boolean × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"Client.html":{"id":"Client.html","title":"Class: Client","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: Client Client Main interaction handler with end user. A client instance provides a handler to interact with a network of peers, orderers and optionally member services. An application using the SDK may need to interact with multiple networks, each through a separate instance of the Client. Each client when initially created should be initialized with configuration data from the consensus service, which includes a list of trusted roots, orderer certificates and IP addresses, and a list of peer certificates and IP addresses that it can access. This must be done out of band as part of bootstrapping the application environment. It is also the responsibility of the application to maintain the configuration of a client as the SDK does not persist this object. Each Client instance can maintain several Chain instances representing channels and the associated private ledgers. new Client() Methods &lt;static&gt; addConfigFile(path) Adds a file to the top of the list of configuration setting files that are part of the hierarchical configuration. These files will override the default settings and be overriden by environment, command line arguments, and settings programmatically set into configuration settings. hierarchy search order: 1. memory - all settings added with sdkUtils.setConfigSetting(name,value) 2. Command-line arguments 3. Environment variables (names will be change from AAA-BBB to aaa-bbb) 4. Custom Files - all files added with the addConfigFile(path) will be ordered by when added, were last one added will override previously added files 5. The file located at 'config/default.json' with default settings Parameters: Name Type Description path String The path to the file to be added to the top of list of configuration files &lt;static&gt; getConfigSetting(name, default_value) Retrieves a setting from the hierarchical configuration and if not found will return the provided default value. hierarchy search order: 1. memory - settings added with sdkUtils.setConfigSetting(name,value) 2. Command-line arguments 3. Environment variables (names will be change from AAA-BBB to aaa-bbb) 4. Custom Files - all files added with the addConfigFile(path) will be ordered by when added, were last one added will override previously added files 5. The file located at 'config/default.json' with default settings Parameters: Name Type Description name String The name of a setting default_value Object The value of a setting if not found in the hierarchical configuration &lt;static&gt; newDefaultKeyValueStore(options) Obtains an instance of the KeyValueStore class. By default it returns the built-in implementation, which is based on files (FileKeyValueStore). This can be overriden with an environment variable KEY_VALUE_STORE, the value of which is the full path of a CommonJS module for the alternative implementation. Parameters: Name Type Description options Object is whatever the implementation requires for initializing the instance. For the built-in file-based implementation, this requires a single property &quot;path&quot; to the top-level folder for the store Returns: KeyValueStore an instance of the KeyValueStore implementation &lt;static&gt; setConfigSetting(name, value) Adds a setting to override all settings that are part of the hierarchical configuration. hierarchy search order: 1. memory - settings added with this call 2. Command-line arguments 3. Environment variables (names will be change from AAA-BBB to aaa-bbb) 4. Custom Files - all files added with the addConfigFile(path) will be ordered by when added, were last one added will override previously added files 5. The file located at 'config/default.json' with default settings Parameters: Name Type Description name String The name of a setting value Object The value of a setting &lt;static&gt; setLogger(logger) Configures a logger for the entire HFC SDK to use and override the default logger. Unless this method is called, HFC uses a default logger (based on winston). When using the built-in &quot;winston&quot; based logger, use the environment variable HFC_LOGGING to pass in configurations in the following format: { 'error': 'error.log', // 'error' logs are printed to file 'error.log' relative of the current working dir for node.js 'debug': '/tmp/myapp/debug.log', // 'debug' and anything more critical ('info', 'warn', 'error') can also be an absolute path 'info': 'console' // 'console' is a keyword for logging to console } Parameters: Name Type Description logger Object a logger instance that defines the following methods: debug(), info(), warn(), error() with string interpolation methods like util.format. getChain(name) Get a Chain instance from the state storage. This allows existing chain instances to be saved for retrieval later and to be shared among instances of the application. Note that it’s the application/SDK’s responsibility to record the chain information. If an application is not able to look up the chain information from storage, it may call another API that queries one or more Peers for that information. Parameters: Name Type Description name string The name of the chain. Throws: if the state store has not been set or a chain does not exist under that name. Type Error Returns: The chain instance Type Chain getStateStore() A convenience method for obtaining the state store object in use for this client. Returns: The KeyValueStore implementation object set within this Client, or null if it does not exist. Type KeyValueStore getUserContext(name) As explained above, the client instance can have an optional state store. The SDK saves enrolled users in the storage which can be accessed by authorized users of the application (authentication is done by the application outside of the SDK). This function attempts to load the user by name from the local storage (via the KeyValueStore interface). The loaded user object must represent an enrolled user with a valid enrollment certificate signed by a trusted CA (such as the CA server). Parameters: Name Type Description name String Optional. If not specified, will only return the in-memory user context object, or null if not found in memory. If &quot;name&quot; is specified, will also attempt to load it from the state store if search in memory failed. Returns: The user object corresponding to the name, or null if the user does not exist or if the state store has not been set. Type Promise loadUserFromStateStore() Restore the state of this member from the key value store (if found). If not found, do nothing. Returns: A Promise for a {User} object upon successful restore, or if the user by the name does not exist in the state store, returns null without rejecting the promise Type Promise newChain(name) Returns a chain instance with the given name. This represents a channel and its associated ledger (as explained above), and this call returns an empty object. To initialize the chain in the blockchain network, a list of participating endorsers and orderer peers must be configured first on the returned object. Parameters: Name Type Description name string The name of the chain. Recommend using namespaces to avoid collision. Throws: if the chain by that name already exists in the application's state store Type Error Returns: The uninitialized chain instance. Type Chain queryChainInfo(name, peers) This is a network call to the designated Peer(s) to discover the chain information. The target Peer(s) must be part of the chain to be able to return the requested information. Parameters: Name Type Description name string The name of the chain. peers Array.&lt;Peer&gt; Array of target Peers to query. Returns: The chain instance for the name or error if the target Peer(s) does not know anything about the chain. Type Chain saveUserToStateStore() Save the state of this member to the key value store. Returns: A Promise for the user context object upon successful save Type Promise setStateStore(keyValueStore) The enrollment materials for Users that have appeared in the instances of the application. The SDK should have a built-in key value store file-based implementation to allow easy setup during development. Production systems would use a store backed by database for more robust storage and clustering, so that multiple app instances can share app state via the database. This API makes this pluggable so that different store implementations can be selected by the application. Parameters: Name Type Description keyValueStore KeyValueStore Instance of an alternative KeyValueStore implementation provided by the consuming app. setUserContext(user, skipPersistence) Sets an instance of the User class as the security context of self client instance. This user’s credentials (ECert), or special transaction certificates that are derived from the user's ECert, will be used to conduct transactions and queries with the blockchain network. Upon setting the user context, the SDK saves the object in a persistence cache if the “state store” has been set on the Client instance. If no state store has been set, this cache will not be established and the application is responsible for setting the user context again if the application crashes and is recovered. Parameters: Name Type Description user User An instance of the User class encapsulating the authenticated user’s signing materials (private key and enrollment certificate) skipPersistence boolean Whether to skip saving the user object into persistence. Default is false and the method will attempt to save the user object to the state store. Returns: Promise of the 'user' object upon successful persistence of the user to the state store Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"CouchDBKeyValueStore.html":{"id":"CouchDBKeyValueStore.html","title":"Class: CouchDBKeyValueStore","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: CouchDBKeyValueStore CouchDBKeyValueStore This is a sample database implementation of the KeyValueStore API. It uses a local or remote CouchDB database instance to store the keys. new CouchDBKeyValueStore(options) constructor Parameters: Name Type Description options Object Contains the properties: url - The CouchDB instance url. name - Optional. Identifies the name of the database if different from the default of 'member_db'. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"CryptoKeyStore.html":{"id":"CryptoKeyStore.html","title":"Class: CryptoKeyStore","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: CryptoKeyStore CryptoKeyStore new CryptoKeyStore() The main API for this module. Returns an instance of the CryptoKeyStore that uses the api.KeyValueStore implementation class 'KVSImplClass' under the cover to persist keys. 'opts' is specific to the implementation 'KVSImplClass' × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"CryptoSuite_ECDSA_AES.html":{"id":"CryptoSuite_ECDSA_AES.html","title":"Class: CryptoSuite_ECDSA_AES","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: CryptoSuite_ECDSA_AES CryptoSuite_ECDSA_AES The module:api.CryptoSuite implementation for ECDSA, and AES algorithms using software key generation. This class implements a software-based key generation (as opposed to Hardware Security Module based key management) new CryptoSuite_ECDSA_AES(keySize, opts, KVSImplClass, hash) constructor Parameters: Name Type Description keySize number Key size for the ECDSA algorithm, can only be 256 or 384 opts object Implementation-specific options object for the KeyValueStore class to instantiate an instance KVSImplClass string Optional. The built-in key store saves private keys. The key store may be backed by different KeyValueStore implementations. If specified, the value of the argument must point to a module implementing the KeyValueStore interface. hash string Optional. Hash algorithm, supported values are &quot;SHA2&quot; and &quot;SHA3&quot; Methods decrypt() This is an implementation of module:api.CryptoSuite#decrypt Decrypts ciphertext using key k. The opts argument should be appropriate for the algorithm used. deriveKey() This is an implementation of module:api.CryptoSuite#deriveKey To be implemented encrypt() This is an implementation of module:api.CryptoSuite#encrypt Encrypts plaintext using key k. The opts argument should be appropriate for the algorithm used. generateKey() This is an implementation of module:api.CryptoSuite#generateKey Returns an instance of module.api.Key representing the private key, which also encapsulates the public key. It'll also save the private key in the KeyValueStore Returns: Promise of an instance of module:ECDSA_KEY containing the private key and the public key Type Key getKey() This is an implementation of module:api.CryptoSuite#getKey Returns the key this CSP associates to the Subject Key Identifier ski. hash() This is an implementation of module:api.CryptoSuite#hash Hashes messages msg using options opts. importKey() This is an implementation of module:api.CryptoSuite#importKey sign() This is an implementation of module:api.CryptoSuite#sign Signs digest using key k. The opts argument is not needed. verify() This is an implementation of module:api.CryptoSuite#verify Verifies signature against key k and digest The opts argument should be appropriate for the algorithm used. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"CryptoSuite_PKCS11.html":{"id":"CryptoSuite_PKCS11.html","title":"Class: CryptoSuite_PKCS11","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: CryptoSuite_PKCS11 CryptoSuite_PKCS11 PKCS#11-compliant implementation to support Hardware Security Modules. new CryptoSuite_PKCS11(keySize, opts) Parameters: Name Type Description keySize number Length of key (in bytes), a.k.a &quot;security level&quot; opts object Option is the form { lib: string, slot: number, pin: string } If lib is not specified or null, its value will be taken from the CRYPTO_PKCS11_LIB env var, and if the env var is not set, its value will be taken from the crypto-pkcs11-lib key in the configuration file. If slot is not specified or null, its value will be taken from the CRYPTO_PKCS11_SLOT env var, and if the env var is not set, its value will be taken from the crypto-pkcs11-slot key in the configuration file. If pin is not specified or null, its value will be taken from the CRYPTO_PKCS11_PIN env var, and if the env var is not set, its value will be taken from the crypto-pkcs11-pin key in the configuration file. Methods decrypt() This is an implementation of module:api.CryptoSuite#decrypt Decrypts cipherText using key. The opts argument should be appropriate for the algorithm used. deriveKey() This is an implementation of module:api.CryptoSuite#deriveKey encrypt() This is an implementation of module:api.CryptoSuite#encrypt Encrypts plainText using key. The opts argument should be appropriate for the algorithm used. generateKey() This is an implementation of module:api.CryptoSuite#generateKey Returns an instance of module.api.Key representing the private key, which also encapsulates the public key. By default the generated key (keypar) is (are) ephemeral unless opts.ephemeral is set to false, in which case the key (keypair) will be saved across PKCS11 sessions by the HSM hardware. Returns: Promise of an instance of module:PKCS11_ECDSA_KEY containing the private key and the public key. Type Key getKey() This is an implementation of module:api.CryptoSuite#getKey Returns the key this CSP associates to the Subject Key Identifier ski. importKey() This is an implementation of module:api.CryptoSuite#importKey sign() This is an implementation of module:api.CryptoSuite#sign Signs digest using key k. The opts argument is not needed. verify() This is an implementation of module:api.CryptoSuite#verify Verifies signature against key k and digest × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"EventHub.html":{"id":"EventHub.html","title":"Class: EventHub","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: EventHub EventHub The EventHub class is used to distribute events from an event source(peer) new EventHub() Constructs an unconnected EventHub Methods connect() Establishes connection with peer event source Note: Only use this if creating your own EventHub. The chain class creates a default eventHub that most Node clients can use (see eventHubConnect, eventHubDisconnect and getEventHub). disconnect() Disconnects peer event source Note: Only use this if creating your own EventHub. The chain class creates a default eventHub that most Node clients can use (see eventHubConnect, eventHubDisconnect and getEventHub). isconnected() Get connected state of eventhub Returns: true if connected to event source, false otherwise registerBlockEvent(callback) Register a callback function to receive block events. Parameters: Name Type Description callback function Function that takes a single parameter which is a json object representation of type &quot;message Block&quot; from lib/proto/fabric.proto registerChaincodeEvent(ccid, eventname, callback) Register a callback function to receive chaincode events. Parameters: Name Type Description ccid string string chaincode id eventname string string The regex string used to filter events callback function Function Callback function for filter matches that takes a single parameter which is a json object representation of type &quot;message ChaincodeEvent&quot; from lib/proto/chaincodeevent.proto Returns: ChainCodeCBE object that should be treated as an opaque handle used to unregister (see unregisterChaincodeEvent) Type object registerTxEvent(txid, callback) Register a callback function to receive transactional events. Note: transactional event registration is primarily used by the sdk to track instantiate and invoke completion events. Nodejs clients generally should not need to call directly. Parameters: Name Type Description txid string string transaction id callback function Function that takes a parameter which is a json object representation of type &quot;message Transaction&quot; from lib/proto/fabric.proto and a parameter which is a boolean that indicates if the transaction is invalid (true=invalid) setPeerAddr(peeraddr, opts) Set peer url for event source Note: Only use this if creating your own EventHub. The chain class creates a default eventHub that most Node clients can use (see eventHubConnect, eventHubDisconnect and getEventHub). Parameters: Name Type Description peeraddr string peer url opts object An Object that may contain options to pass to grpcs calls - pem {string} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials). Required when using the grpcs protocol. - ssl-target-name-override {string} Used in test environment only, when the server certificate's hostname (in the 'CN' field) does not match the actual host endpoint that the server process runs at, the application can work around the client TLS verify failure by setting this property to the value of the server certificate's hostname - any other standard grpc call options will be passed to the grpc service calls directly txCallback(block) private internal callback for processing tx events Parameters: Name Type Description block object json object representing block of tx from the fabric unregisterBlockEvent(callback) Unregister block event registration Parameters: Name Type Description callback function Function to unregister unregisterChaincodeEvent(ChainCodeCBE) Unregister chaincode event registration Parameters: Name Type Description ChainCodeCBE object handle returned from call to registerChaincodeEvent. unregisterTxEvent(txid) Unregister transactional event registration. Parameters: Name Type Description txid string transaction id × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"FabricCAClient.html":{"id":"FabricCAClient.html","title":"Class: FabricCAClient","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: FabricCAClient FabricCAClient Client for communciating with the Fabric CA APIs new FabricCAClient(connect_opts) constructor Parameters: Name Type Description connect_opts object Connection options for communciating with the Fabric CA server Properties Name Type Description protocol string The protocol to use (either HTTP or HTTPS) hostname string The hostname of the Fabric CA server endpoint port number The port of the Fabric CA server endpoint tlsOptions TLSOptions The TLS settings to use when the Fabric CA endpoint uses &quot;https&quot; Methods &lt;static&gt; pemToDER({string)) Convert a PEM encoded certificate to DER format Parameters: Name Type Description {string) pem PEM encoded public or private key Throws: Will throw an error if the conversation fails Returns: hex Hex-encoded DER bytes Type string enroll(enrollmentID, enrollmentSecret, csr) Enroll a registered user in order to receive a signed X509 certificate Parameters: Name Type Description enrollmentID string The registered ID to use for enrollment enrollmentSecret string The secret associated with the enrollment ID csr string PEM-encoded PKCS#10 certificate signing request Throws: Will throw an error if all parameters are not provided Will throw an error if calling the enroll API fails for any reason Returns: EnrollmentResponse Type Promise register(enrollmentID, role, affiliation, maxEnrollments, attrs, signingIdentity) Register a new user and return the enrollment secret Parameters: Name Type Description enrollmentID string ID which will be used for enrollment role string Type of role for this user affiliation string Affiliation with which this user will be associated maxEnrollments number The maximum number of times the user is permitted to enroll attrs Array.&lt;KeyValueAttribute&gt; Array of key/value attributes to assign to the user signingIdentity SigningIdentity The instance of a SigningIdentity encapsulating the signing certificate, hash algorithm and signature algorithm Returns: The enrollment secret to use when this user enrolls Type Promise revoke(enrollmentID, aki, serial, reason, signingIdentity) Revoke an existing certificate (enrollment certificate or transaction certificate), or revoke all certificates issued to an enrollment id. If revoking a particular certificate, then both the Authority Key Identifier and serial number are required. If revoking by enrollment id, then all future requests to enroll this id will be rejected. Parameters: Name Type Description enrollmentID string ID to revoke aki string Authority Key Identifier string, hex encoded, for the specific certificate to revoke serial string Serial number string, hex encoded, for the specific certificate to revoke reason string The reason for revocation. See https://godoc.org/golang.org/x/crypto/ocsp for valid values signingIdentity SigningIdentity The instance of a SigningIdentity encapsulating the signing certificate, hash algorithm and signature algorithm Returns: The revocation results Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"FabricCAServices.html":{"id":"FabricCAServices.html","title":"Class: FabricCAServices","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: FabricCAServices FabricCAServices This is an implementation of the member service client which communicates with the Fabric CA server. new FabricCAServices(url, tlsOptions, cryptoSetting, KVSImplClass, opts) constructor Parameters: Name Type Description url string The endpoint URL for Fabric CA services of the form: &quot;http://host:port&quot; or &quot;https://host:port&quot; tlsOptions TLSOptions The TLS settings to use when the Fabric CA services endpoint uses &quot;https&quot; cryptoSetting object This optional parameter is an object with the following optional properties: - software {boolean}: Whether to load a software-based implementation (true) or HSM implementation (false) default is true (for software based implementation), specific implementation module is specified in the setting 'crypto-suite-software' - keysize {number}: The key size to use for the crypto suite instance. default is value of the setting 'crypto-keysize' - algorithm {string}: Digital signature algorithm, currently supporting ECDSA only with value &quot;EC&quot; KVSImplClass function Optional. The built-in key store saves private keys. The key store may be backed by different KeyValueStore implementations. If specified, the value of the argument must point to a module implementing the KeyValueStore interface. opts object Implementation-specific options object for the KeyValueStore class to instantiate an instance Methods enroll(req) Enroll the member and return an opaque member object. Parameters: Name Type Description req Enrollment request Properties Name Type Description enrollmentID string The registered ID to use for enrollment enrollmentSecret string The secret associated with the enrollment ID Returns: Promise for an object with &quot;key&quot; for private key and &quot;certificate&quot; for the signed certificate register(req, registrar) Register the member and return an enrollment secret. Parameters: Name Type Description req Object Registration request with the following fields: - enrollmentID {string}. ID which will be used for enrollment - role {string}. An arbitrary string representing a role value for the user - affiliation {string}. Affiliation with which this user will be associated, like a company or an organization - maxEnrollments {number}. The maximum number of times this user will be permitted to enroll - attrs {KeyValueAttribute[]}. Array of key/value attributes to assign to the user. registrar User . The identity of the registrar (i.e. who is performing the registration) Returns: The enrollment secret to use when this user enrolls Type Promise revoke(request, registrar) Revoke an existing certificate (enrollment certificate or transaction certificate), or revoke all certificates issued to an enrollment id. If revoking a particular certificate, then both the Authority Key Identifier and serial number are required. If revoking by enrollment id, then all future requests to enroll this id will be rejected. Parameters: Name Type Description request Object Request object with the following fields: - enrollmentID {string}. ID to revoke - aki {string}. Authority Key Identifier string, hex encoded, for the specific certificate to revoke - serial {string}. Serial number string, hex encoded, for the specific certificate to revoke - reason {string}. The reason for revocation. See https://godoc.org/golang.org/x/crypto/ocsp for valid values. The default value is 0 (ocsp.Unspecified). registrar User The identity of the registrar (i.e. who is performing the revocation) Returns: The revocation results Type Promise toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"FileKeyValueStore.html":{"id":"FileKeyValueStore.html","title":"Class: FileKeyValueStore","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: FileKeyValueStore FileKeyValueStore This is a default implementation of the KeyValueStore API. It uses files to store the key values. new FileKeyValueStore(options) constructor Parameters: Name Type Description options Object contains a single property 'path' which points to the top-level directory for the store × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"module-api.html":{"id":"module-api.html","title":"Module: api","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Module: api This module defines the API for the pluggable components of the node.js SDK. The APIs are defined according to the Hyperledger Fabric's common SDK specification Classes CryptoSuite Key KeyValueStore × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"module-api.CryptoSuite.html":{"id":"module-api.CryptoSuite.html","title":"Class: CryptoSuite","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: CryptoSuite api. CryptoSuite Abstract class for a suite of crypto algorithms used by the SDK to perform encryption, decryption and secure hashing. A complete suite includes libraries for asymmetric keys (such as ECDSA or RSA), symmetric keys (such as AES) and secure hash (such as SHA2/3). The SDK provides a default implementation based on ECDSA + AES + SHA2/3. An alternative implementation can be specified using the &quot;CRYPTO_SUITE&quot; environment variable, pointing to a full path to the require() package for the module. new CryptoSuite() Methods decrypt(key, cipherText, opts) Decrypts ciphertext using key k. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key Key Decryption key (private key) cipherText Array.&lt;byte&gt; Cipher text to decrypt opts Object Decrypt options Returns: Plain text after decryption Type Array.&lt;byte&gt; deriveKey(key, opts) Derives a key from k using opts. Parameters: Name Type Description key Key the source key opts Object algorithm: an identifier for the algorithm to be used ephemeral: true if the key to generate has to be ephemeral Returns: derived key Type Key encrypt(key, plainText, opts) Encrypts plaintext using key k. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key Key Encryption key (public key) plainText Array.&lt;byte&gt; Plain text to encrypt opts Object Encryption options Returns: Cipher text after encryption Type Array.&lt;byte&gt; generateKey(opts) Generate a key using the opts Parameters: Name Type Description opts Object algorithm: an identifier for the algorithm to be used, such as &quot;ECDSA&quot; ephemeral: true if the key to generate has to be ephemeral Returns: Promise of an instance of the Key class Type Key getKey(ski) Returns the key this CSP associates to the Subject Key Identifier ski. Parameters: Name Type Description ski Array.&lt;byte&gt; Subject Key Identifier specific to a Crypto Suite implementation Returns: Promise of an instance of the Key class corresponding to the ski Type Key hash(msg, opts) Hashes messages msg using options opts. Parameters: Name Type Description msg Array.&lt;byte&gt; Source message to be hashed opts Object algorithm: an identifier for the algorithm to be used, such as &quot;SHA3&quot; Returns: The hashed digest in hexidecimal string encoding Type string importKey(raw, opts) Imports a key from its raw representation using opts. If the `opts.ephemeral` parameter is false, the method, in addition to returning the imported Key instance, also saves the imported key in the key store as PEM files that can be retrieved using the 'getKey()' method Parameters: Name Type Description raw Array.&lt;byte&gt; Raw bytes of the key to import opts Object `type`: type of information that 'raw' represents: x509 certificate, `algorithm`: an identifier for the algorithm to be used `ephemeral`: true if the key to generate has to be ephemeral Returns: Promise of an instance of the Key class wrapping the raw key bytes Type Key sign(key, digest, opts) Signs digest using key k. The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key Key Signing key (private key) digest Array.&lt;byte&gt; The message digest to be signed. Note that when a signature of a hash of a larger message is needed, the caller is responsible for hashing the larger message and passing the hash (as digest) and the hash function (as opts) to sign. opts Object hashingFunction: the function to use to hash Returns: the resulting signature Type Array.&lt;byte&gt; verify(key, signature, digest) Verifies signature against key k and digest The opts argument should be appropriate for the algorithm used. Parameters: Name Type Description key Key Signing verification key (public key) signature Array.&lt;byte&gt; The signature to verify digest Array.&lt;byte&gt; The digest that the signature was created for Returns: true if the signature verifies successfully Type boolean × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"module-api.Key.html":{"id":"module-api.Key.html","title":"Class: Key","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: Key api. Key Key represents a cryptographic key. It can be symmetric or asymmetric. In the case of an asymmetric key, the key can be public or private. In the case of a private asymmetric key, the getPublicKey() method allows to retrieve the corresponding public-key. A key can be referenced via the Subject Key Identifier in DER or PEM encoding new Key() Methods getPublicKey() Returns the corresponding public key if this key is an asymmetric private key. If this key is already public, PublicKey returns this key itself. Returns: the corresponding public key if this key is an asymmetric private key. If this key is already public, PublicKey returns this key itself. Type Key getSKI() Returns the subject key identifier of this key in DER encoding for private keys or PEM encoding for public keys. Returns: the subject key identifier of this key Type Array.&lt;byte&gt; isPrivate() Returns true if this key is an asymmetric private key, false otherwise. Returns: if this key is an asymmetric private key Type boolean isSymmetric() Returns true if this key is a symmetric key, false is this key is asymmetric Returns: if this key is a symmetric key Type boolean toBytes() Converts this key to its byte representation, if this operation is allowed. Returns: the byte representation of the key Type Array.&lt;byte&gt; × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"module-api.KeyValueStore.html":{"id":"module-api.KeyValueStore.html","title":"Class: KeyValueStore","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: KeyValueStore api. KeyValueStore Abstract class for a Key-Value store. The Chain class uses this store to save sensitive information such as authenticated user's private keys, certificates, etc. The SDK provides a default implementation based on files. An alternative implementation can be specified using the &quot;KEY_VALUE_STORE&quot; environment variable pointing to a full path to the require() package for the module. new KeyValueStore() Methods getValue(name) Get the value associated with name. Parameters: Name Type Description name string of the key Returns: Promise for the value corresponding to the key. If the value does not exist in the store, returns null without rejecting the promise setValue(name, value) Set the value associated with name. Parameters: Name Type Description name string of the key to save value string to save Returns: Promise for the 'value' object upon successful write operation Type Promise × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"module-fabric-ca-client.html":{"id":"module-fabric-ca-client.html","title":"Module: fabric-ca-client","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Module: fabric-ca-client This is the main module for the &quot;fabric-ca-client&quot; package. It communicates with the &quot;fabric-ca&quot; server to manage user certificates lifecycle including register, enroll, renew and revoke, so that the application can use the properly signed certificates to authenticate with the fabric × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"module-fabric-client.html":{"id":"module-fabric-client.html","title":"Module: fabric-client","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Module: fabric-client This is the main module for the &quot;fabric-client&quot; package. It provides the convenience APIs to the classes of the package including Chain × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"Orderer.html":{"id":"Orderer.html","title":"Class: Orderer","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: Orderer Orderer The Orderer class represents a peer in the target blockchain network to which HFC sends a block of transactions of endorsed proposals requiring ordering. new Orderer(url, opts) Constructs an Orderer given its endpoint configuration settings. Parameters: Name Type Description url string The orderer URL with format of 'grpcs://host:port'. opts Object The options for the connection to the orderer. Methods sendBroadcast(envelope) Send a Broadcast message to the orderer service. Parameters: Name Type Description envelope byte Byte data to be included in the Broadcast See: the ./proto/orderer/ab.proto the ./proto/orderer/ab.proto Returns: A Promise for a BroadcastResponse Type Promise sendDeliver(envelope) Send a Deliver message to the orderer service. Parameters: Name Type Description envelope byte Byte data to be included in the Deliver See: the ./proto/orderer/ab.proto the ./proto/orderer/common.proto Returns: A Promise for a Block Type Promise toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"Peer.html":{"id":"Peer.html","title":"Class: Peer","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: Peer Peer The Peer class represents a peer in the target blockchain network to which HFC sends endorsement proposals, transaction ordering or query requests. The Peer class represents the remote Peer node and its network membership materials, aka the ECert used to verify signatures. Peer membership represents organizations, unlike User membership which represents individuals. When constructed, a Peer instance can be designated as an event source, in which case a “eventSourceUrl” attribute should be configured. This allows the SDK to automatically attach transaction event listeners to the event stream. It should be noted that Peer event streams function at the Peer level and not at the chain and chaincode levels. new Peer(url, opts) Constructs a Peer given its endpoint configuration settings. Parameters: Name Type Description url string The URL with format of &quot;grpcs://host:port&quot;. opts Object The options for the connection to the peer. Methods addListener(eventType, eventTypeData, eventCallback) For a Peer that is connected to eventSource, the addListener registers an EventCallBack for a set of event types. addListener can be invoked multiple times to support differing EventCallBack functions receiving different types of events. Note that the parameters below are optional in certain languages, like Java, that constructs an instance of a listener interface, and pass in that instance as the parameter. Parameters: Name Type Description eventType string : ie. Block, Chaincode, Transaction eventTypeData object : Object Specific for event type as necessary, currently needed for “Chaincode” event type, specifying a matching pattern to the event name set in the chaincode(s) being executed on the target Peer, and for “Transaction” event type, specifying the transaction ID eventCallback class Client Application class registering for the callback. Returns: An ID reference to the event listener. Type string connectEventSource() Since practically all Peers are event producers, when constructing a Peer instance, an application can designate it as the event source for the application. Typically only one of the Peers on a Chain needs to be the event source, because all Peers on the Chain produce the same events. This method tells the SDK which Peer(s) to use as the event source for the client application. It is the responsibility of the SDK to manage the connection lifecycle to the Peer’s EventHub. It is the responsibility of the Client Application to understand and inform the selected Peer as to which event types it wants to receive and the call back functions to use. Returns: This gives the app a handle to attach “success” and “error” listeners Type Promise getEnrollmentCertificate() Returns the Peer's enrollment certificate. Returns: Certificate in PEM format signed by the trusted CA Type object getName() Get the Peer name. Required property for the instance objects. Returns: The name of the Peer Type string getRoles() Get the user’s roles the Peer participates in. It’s an array of possible values in “client”, and “auditor”. The member service defines two more roles reserved for peer membership: “peer” and “validator”, which are not exposed to the applications. Returns: The roles for this user. Type Array.&lt;string&gt; isEventListened(eventName, chain) A network call that discovers if at least one listener has been connected to the target Peer for a given event. This helps application instance to decide whether it needs to connect to the event source in a crash recovery or multiple instance instantiation. Parameters: Name Type Description eventName string required chain Chain optional removeListener(eventListenerRef) Unregisters a listener. Parameters: Name Type Description eventListenerRef string Reference returned by SDK for event listener. Returns: Success / Failure status Type boolean sendProposal(proposal) Send an endorsement proposal to an endorser. Parameters: Name Type Description proposal Proposal A proposal of type Proposal See: /protos/peer/fabric_proposal.proto Returns: Promise for a ProposalResponse setEnrollmentCertificate(enrollment) Set the Peer’s enrollment certificate. Parameters: Name Type Description enrollment object Certificate in PEM format signed by the trusted CA setName(name) Set the Peer name / id. Parameters: Name Type Description name string setRoles(roles) Set the user’s roles the Peer participates in. See getRoles() for legitimate values. Parameters: Name Type Description roles Array.&lt;string&gt; The list of roles for the user. toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"Remote.html":{"id":"Remote.html","title":"Class: Remote","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: Remote Remote The Remote class represents a the base class for all remote nodes, Peer, Orderer , and MemberServicespeer. new Remote(url, opts) Constructs an object with the endpoint configuration settings. Parameters: Name Type Description url string The orderer URL with format of 'grpc(s)://host:port'. opts object An Object that may contain options to pass to grpcs calls - pem {string} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials). Required when using the grpcs protocol. - ssl-target-name-override {string} Used in test environment only, when the server certificate's hostname (in the 'CN' field) does not match the actual host endpoint that the server process runs at, the application can work around the client TLS verify failure by setting this property to the value of the server certificate's hostname - any other standard grpc call options will be passed to the grpc service calls directly Methods getUrl() Get the URL of the orderer. Returns: Get the URL associated with the Orderer. Type string toString() return a printable representation of this object × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:48+00:00 using the DocStrap template. "},"User.html":{"id":"User.html","title":"Class: User","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global Class: User User The User class represents users that have been enrolled and represented by an enrollment certificate (ECert) and a signing key. The ECert must have been signed by one of the CAs the blockchain network has been configured to trust. An enrolled user (having a signing key and ECert) can conduct chaincode instantiate, transactions and queries with the Chain. User ECerts can be obtained from a CA beforehand as part of installing and instantiating the application, or it can be obtained from the optional Fabric CA service via its enrollment process. Sometimes User identities are confused with Peer identities. User identities represent signing capability because it has access to the private key, while Peer identities in the context of the application/SDK only has the certificate for verifying signatures. An application cannot use the Peer identity to sign things because the application doesn’t have access to the Peer identity’s private key. new User(cfg) Constructor for a member. Parameters: Name Type Description cfg string The member name or an object with the following attributes: - enrollmentID {string}: user name - name {string}: user name, if &quot;enrollmentID&quot; is also specified, the &quot;name&quot; is ignored - roles {string[]}: optional. array of roles - affiliation {string}: optional. affiliation with a group or organization Methods fromString() Set the current state of this member from a string based JSON object Returns: Promise of the unmarshalled Member object represented by the serialized string Type Member getAffiliation() Get the affiliation. Returns: The affiliation. Type string getIdentity() Get the Identity object for this User instance, used to verify signatures Returns: the identity object that encapsulates the user's enrollment certificate Type Identity getName() Get the member name. Returns: The member name. Type string getRoles() Get the roles. Returns: The roles. Type Array.&lt;string&gt; getSigningIdentity() Get the SigningIdentity object for this User instance, used to generate signatures Returns: the identity object that encapsulates the user's private key for signing Type SigningIdentity getTCertBatchSize() Get the transaction certificate (tcert) batch size, which is the number of tcerts retrieved from member services each time (i.e. in a single batch). Returns: The tcert batch size. Type int isEnrolled() Determine if this name has been enrolled. Returns: True if enrolled; otherwise, false. Type boolean setAffiliation(affiliation) Set the affiliation. Parameters: Name Type Description affiliation string The affiliation. setEnrollment(privateKey, certificate, mspId, opts) Set the enrollment object for this User instance Parameters: Name Type Description privateKey Key the private key object certificate string the PEM-encoded string of certificate mspId string The Member Service Provider id for the local signing identity opts object optional. an object with the following attributes, all optional: - cryptoSettings: {object} an object with the following attributes: - software {boolean}: Whether to load a software-based implementation (true) or HSM implementation (false) default is true (for software based implementation), specific implementation module is specified in the setting 'crypto-suite-software' - keysize {number}: The key size to use for the crypto suite instance. default is value of the setting 'crypto-keysize' - algorithm {string}: Digital signature algorithm, currently supporting ECDSA only with value &quot;EC&quot; - hash {string}: 'SHA2' or 'SHA3' - KVSImplClass: {function} the User class persists crypto keys in a CryptoKeyStore, there is a file-based implementation that is provided as the default. Application can use this parameter to override the default, such as saving the keys in a key store backed by database. If present, the value must be the class for the alternative implementation. - kvsOpts: {object}: an options object specific to the implementation in KVSImplClass Returns: Promise for successful completion of creating the user's signing Identity Type Promise setRoles(roles) Set the roles. Parameters: Name Type Description roles Array.&lt;string&gt; The roles. setTCertBatchSize(batchSize) Set the transaction certificate (tcert) batch size. Parameters: Name Type Description batchSize int toString() Save the current state of this member as a string Returns: The state of this member as a string Type string × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "},"tutorial-app-developer-env-setup.html":{"id":"tutorial-app-developer-env-setup.html","title":"Tutorial: app-developer-env-setup","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global app-developer-env-setup Setting up the Full Hyperledger fabric Developer's Environment See Setting Up The Development Environment to set up your development environment. The following commands are all issued from the vagrant environment. The following will open a terminal session: cd &lt;your cloned location&gt;/fabric/devenv vagrant up vagrant ssh Issue the following commands to build the Hyperledger fabric client (HFC) Node.js SDK including the API reference documentation cd /opt/gopath/src/github.com/hyperledger/fabric-sdk-node &lt;TBD&gt; Issue the following command where your Node.js application is located if you wish to use the require(&quot;hfc&quot;), this will install the HFC locally. npm install /opt/gopath/src/github.com/hyperledger/fabric-sdk-node Or point to the HFC directly by using the following require() in your code: require(&quot;/opt/gopath/src/github.com/hyperledger/fabric-sdk-node&quot;); To build the API reference documentation: cd /opt/gopath/src/github.com/hyperledger/fabric-sdk-node &lt;TBD make doc&gt; To build the reference documentation in the Fabric-starter-kit docker exec -it nodesdk /bin/bash cd /opt/gopath/src/github.com/hyperledger/fabric-sdk-node &lt;TBD make doc&gt; The the API reference documentation will be available in:/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/doc × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "},"tutorial-index_.html":{"id":"tutorial-index_.html","title":"Tutorial: index","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global index Hyperledger Fabric SDK for Node.jsThe Hyperledger Fabric SDK for Node.js provides a powerful API to interact with a Hyperledger Fabric v1.0 blockchain. The SDK is designed to be used in the Node.js JavaScript runtime. OverviewHyperledger Fabric is the operating system of an enterprise-strength permissioned blockchain network. For a high-level overview of the fabric, visit http://hyperledger-fabric.readthedocs.io/en/latest/. Applications can be developed to interact with the blockchain network on behalf of the users. APIs are available to: create channels ask peer nodes to join the channel install chaincodes in peers instantiate chaincodes in a channel invoke transactions by calling the chaincode query the ledger for transactions or blocks How Different Components of the Fabric Work TogetherThe Transaction Flow document provides an excellent description of the application/SDK, peers, and orderers working together to process transactions and producing blocks. Security on the Fabric is enforced with digital signatures. All requests made to the fabric must be signed by users with appropriate enrollment certificates. For a user's enrollment certificate to be considered valid on the Fabric, it must be signed by a trusted Certificate Authority (CA). Fabric supports any standard CAs. In addition, Fabric provides a CA server. See this overview. Features of the SDK for Node.jsThe Hyperledger Fabric SDK for Node.js is designed in an Object-Oriented programming style. Its modular construction enables application developers to plug in alternative implementations of key functions such as crypto suites, the state persistence store, and logging utility. The SDK's list of features include: fabric-client: create a new channel send channel information to a peer to join install chaincode on a peer instantiate chaincode in a channel, which involves two steps: propose and transact submitting a transaction, which also involves two steps: propose and transact query a chaincode for the latest application state various query capabilities: chain height block-by-number, block-by-hash all channels that a peer is part of all installed chaincodes in a peer all instantiated chaincodes in a channel transaction-by-id channel configuration data monitoring events: connect to a peer's event stream listen on block events listen on transactions events and find out if the transaction was successfully committed to the ledger or marked invalid listen on custom events produced by chaincodes serializable User object with signing capabilities hierarchical configuration settings with multiple layers of overrides: files, environment variable, program arguments, in-memory settings logging utility with a built-in logger (winston) and can be overriden with a number of popular loggers including log4js and bunyan pluggable CryptoSuite interface describe the cryptographic operations required for successful interactions with the Fabric. Two implementations are provided out of box: Software-based ECDSA PKCS#11-compliant ECDSA pluggable State Store interface for persisting state caches such as users File-based store CouchDB-base store which works with both CouchDB database and IBM Cloudant customizable Crypto Key Store for any software-based cryptographic suite implementation supports both TLS (grpcs://) or non-TLS (grpc://) connections to peers and orderers, see Remote which is the superclass for peers and orderers fabric-ca-client: register a new user enroll a user to obtain the enrollment certificate signed by the Fabric CA revoke an existing user by enrollment ID or revoke a specific certificate customizable persistence store API ReferenceThe SDK is made up of 3 top-level modules that can be accessed through the navigation menu Modules: api: pluggable APIs for application developers to supply alternative implementations of key interfaces used by the SDK. For each interface there are built-in default implementations. fabric-client: this module provides APIs to interact with the core components of a Hypreledger Fabric-based blockchain network, namely the peers, orderers and event streams. fabric-ca-client: this module provides APIs to interact with the optional component, fabric-ca, that contains services for membership management. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "},"tutorial-node-sdk-guide.html":{"id":"tutorial-node-sdk-guide.html","title":"Tutorial: node-sdk-guide","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global node-sdk-guide Hyperledger fabric Client (HFC) SDK for Node.jsThe Hyperledger fabric Client (HFC) SDK for Node.js provides a powerful and easy to use API to interact with a Hyperledger fabric blockchain. The HFC is designed to be used in the Node.js JavaScript runtime. Overview and Deep Dive Application Developer's Overview for a topological overview of applications and a blockchain. Hyperledger fabric Client (HFC) SDK for Node.js the Node.js client SDK in more depth Development Environment Choices Recommended: Fabric-starter-kit uses pre-built docker images for the Node.js client application interacting with Hyperledger fabric blockchain. This environment may suffice for a majority of Node.js application developers. The environment contains a built-in standalone sample ready to go. Full Hyperledger fabric development environment on how to set up an environment for developing chaincode and applications. Note: Only recommended for development of the Hyperledger fabric Client SDK itself. Sample Code Node.js Standalone Application in Vagrant for a sample standalone Node.js application running in the full development environment within Vagrant. Node.js Web Application for a sample web application and to see how to use the Node.js client SDK for a sample web app leveraging the client SDK to interact with a blockchain network. Related information To build the reference documentation for the Node.js client SDK APIs follow the instructions here. To learn more about chaincode, see Writing, Building, and Running Chaincode in a Development Environment. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "},"tutorial-node-sdk-indepth.html":{"id":"tutorial-node-sdk-indepth.html","title":"Tutorial: node-sdk-indepth","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global node-sdk-indepth Hyperledger fabric Client (HFC) SDK for Node.jsThe Hyperledger fabric Client (HFC) SDK provides a powerful and easy to use API to interact with a Hyperledger fabric blockchain. Below, you'll find the following sections: Installing only the SDK Terminology HFC Objects Pluggability Chaincode Deployment Enabling TLS Troubleshooting Installing only the SDKIf you are an experienced node.js developer and already have a blockchain environment set up and running elsewhere, you can set up a client-only environment to run the node.js client by installing the HFC node module as shown below. This assumes a minimum of npm version 2.11.3 and node.js version 0.12.7 are already installed. To install the latest HFC module of Hyperledger fabric npm install hfcTerminologyIn order to transact on a Hyperledger fabric blockchain, you must first have an identity which has been both registered and enrolled with Membership Services. For a topological overview of how the components interact, see Application Developer's Overview. Think of registration as issuing a user invitation to join a blockchain. It consists of adding a new user name (also called an enrollment ID) to the membership service configuration. This can be done programatically with the Member.register method, or by adding the enrollment ID directly to the membersrvc.yaml configuration file. Think of enrollment as accepting a user invitation to join a blockchain. This is always done by the entity that will transact on the blockchain. This can be done programatically via the Member.enroll method. HFC ObjectsHFC is written in javascript. The source can be found in the fabric-sdk-node/lib directory. The reference documentation is generated automatically from this source code and can be found infabric-sdk-node/docs after building the project. The following is a high-level description of the HFC objects (classes and interfaces) to help guide you through the object hierarchy. Chain This is the main top-level class which is the client's representation of a chain. HFC allows you to interact with multiple chains and to share a single KeyValStore and MemberServices object with multiple chains if needed. For each chain, you add one or more Peer objects which represents the endpoint(s) to which HFC connects to transact on the chain. The second peer is used only if the first peer fails. The third peer is used only if both the first and second peers fail, etc. KeyValStore This is a very simple interface which HFC uses to store and retrieve all persistent data. This data includes private keys, so it is very important to keep this storage secure. The default implementation is a simple file-based version found in the FileKeyValStore class. If running in a clustered web application, you will need to either ensure that a shared file system is used, or you must implement your own KeyValStore that can be shared among all cluster members. MemberServices This is an interface representing Membership Services and is implemented by the MemberServicesImpl class. It provides security and identity related features such as privacy, unlinkability, and confidentiality. This implementation issues ECerts (enrollment certificates) and TCerts (transaction certificates). ECerts are for enrollment identity and TCerts are for transactions. Member or User The Member class most often represents an end User who transacts on the chain, but it may also represent other types of members such as peers. From the Member class, you can register and enroll members or users. This interacts with the MemberServices object. You can also deploy, query, and invoke chaincode directly, which interacts with the Peer. The implementation for deploy, query and invoke simply creates a temporary TransactionContext object and delegates the work to it. TransactionContext This class implements the bulk of the deploy, invoke, and query logic. It interacts with Membership Services to get a TCert to perform these operations. Note that there is a one-to-one relationship between TCert and TransactionContext. In other words, a single TransactionContext will always use the same TCert. If you want to issue multiple transactions with the same TCert, then you can get a TransactionContext object from a Member object directly and issue multiple deploy, invoke, or query operations on it. Note however that if you do this, these transactions are linkable, which means someone could tell that they came from the same user, though not know which user. For this reason, you will typically just call deploy, invoke, and query on the Member or User object. PluggabilityHFC was designed to support two pluggable components: Pluggable KeyValStore key value store which is used to retrieve and store keys associated with a member. The key value store is used to store sensitive private keys, so care must be taken to properly protect access. IMPORTANT NOTE: The default KeyValStore is file-based. If multiple instances of a web application run in a cluster, you must provide an implementation of the KeyValStore which is used by all members of the cluster. Pluggable MemberServices which is used to register and enroll members. Member services enables hyperledger to be a permissioned blockchain, providing security services such as anonymity, unlinkability of transactions, and confidentiality Chaincode Deployment'net' modeTo have the chaincode deployment succeed in network mode, you must properly set up the chaincode project outside of your Hyperledger fabric source tree to include all the golang dependencies such that when tarred up and sent to the peer, the peer will be able to build the chain code and then deploy it. The following instructions will demonstrate how to properly set up the directory structure to deploy chaincode_example02 in network mode. The chaincode project must be placed under the $GOPATH/src directory. For example, the chaincode_example02 project should be placed under $GOPATH/src/ as shown below. mkdir -p $GOPATH/src/github.com/chaincode_example02/ cd $GOPATH/src/github.com/chaincode_example02 curl GET https://raw.githubusercontent.com/hyperledger/fabric/master/examples/chaincode/go/chaincode_example02/chaincode_example02.go &gt; chaincode_example02.goAfter you have placed your chaincode project under the $GOPATH/src, you will need to vendor the dependencies. From the directory containing your chaincode source, run the following commands: go get -u github.com/kardianos/govendor cd $GOPATH/src/github.com/chaincode_example02 govendor init govendor fetch github.com/hyperledger/fabricNow, execute go build to verify that all of the chaincode dependencies are present. go build'dev' modeFor deploying chaincode in development mode see Writing, Building, and Running Chaincode in a Development Environment. The chaincode must be running and connected to the peer before issuing the deploy() from the Node.js application. The hfc chain object must be set to dev mode. chain.setDevMode(true);The deploy request must include the chaincodeName that the chaincode registered with the peer. The built-in chaincode example checks an environment variable CORE_CHAINCODE_ID_NAME=mycc when it starts. var deployRequest = { chaincodeName: 'mycc', fcn: &quot;init&quot;, args: [&quot;a&quot;, &quot;100&quot;, &quot;b&quot;, &quot;200&quot;] };Enabling TLSIf you wish to configure TLS with the Membership Services server, the following steps are required: Modify $GOPATH/src/github.com/hyperledger/fabric/membersrvc/membersrvc.yaml as follows: server: tls: cert: file: &quot;/var/hyperledger/production/.membersrvc/tlsca.cert&quot; key: file: &quot;/var/hyperledger/production/.membersrvc/tlsca.priv&quot;To specify to the Membership Services (TLS) Certificate Authority (TLSCA) what X.509 v3 Certificate (with a corresponding Private Key) to use: Modify $GOPATH/src/github.com/hyperledger/fabric/peer/core.yaml as follows: peer: pki: tls: enabled: true rootcert: file: &quot;/var/hyperledger/production/.membersrvc/tlsca.cert&quot;To configure the peer to connect to the Membership Services server over TLS (otherwise, the connection will fail). Bootstrap your Membership Services and the peer. This is needed in order to have the file tlsca.cert generated by the member services. Copy /var/hyperledger/production/.membersrvc/tlsca.cert to $GOPATH/src/github.com/hyperledger/fabric-sdk-node. Note: If you cleanup the folder /var/hyperledger/production then don't forget to copy again the tlsca.cert file as described above. TroubleshootingIf you see errors stating that the client has already been registered/enrolled, keep in mind that you can perform the enrollment process only once, as the enrollmentSecret is a one-time-use password. You will see these errors if you have performed a user registration/enrollment and subsequently deleted the cryptographic tokens stored on the client side. The next time you try to enroll, errors similar to the ones below will be seen. Error: identity or token do not match Error: user is already registeredTo address this, remove any stored cryptographic material from the CA server by following the instructions here. You will also need to remove any of the cryptographic tokens stored on the client side by deleting the KeyValStore directory. That directory is configurable and is set to /tmp/keyValStore within the unit tests. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "},"tutorial-sample-standalone-app.html":{"id":"tutorial-sample-standalone-app.html","title":"Tutorial: sample-standalone-app","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global sample-standalone-app Node.js Standalone Application in VagrantThis section describes how to run a sample standalone Node.js application which interacts with a Hyperledger fabric blockchain. If you haven't already done so, see Setting Up The Application Development Environment to get your environment set up. The remaining steps assume that you are running inside the vagrant environment. Issue the following commands to build the Node.js Client SDK: cd /opt/gopath/src/github.com/hyperledger/fabric &lt;TBD make node-sdk&gt; Start the membership services and peer processes. We run the peer in dev mode for simplicity. cd /opt/gopath/src/github.com/hyperledger/fabric/build/bin membersrvc &gt; membersrvc.log 2&gt;&amp;1&amp; peer node start --peer-chaincodedev &gt; peer.log 2&gt;&amp;1&amp; Build and run chaincode example 2: cd /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 go build CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 ./chaincode_example02 &gt; log 2&gt;&amp;1&amp; Put the following sample app in a file named app.js in the /tmp directory. Take a moment (now or later) to read the comments and code to begin to learn the Node.js Client SDK APIs. You may retrieve the sample application file: cd /tmp curl -o app.js https://raw.githubusercontent.com/hyperledger/fabric/master/examples/sdk/node/app.js Run npm to install Hyperledger Fabric Node.js SDK in the /tmp directory npm install /opt/gopath/src/github.com/hyperledger/fabric-sdk-node To run the application : CORE_CHAINCODE_ID_NAME=mycc CORE_PEER_ADDRESS=0.0.0.0:7051 MEMBERSRVC_ADDRESS=0.0.0.0:7054 DEPLOY_MODE=dev node appCongratulations! You've successfully run your first Hyperledger fabric application. × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "},"tutorial-sample-web-app.html":{"id":"tutorial-sample-web-app.html","title":"Tutorial: sample-web-app","body":" Hyperledger Fabric SDK for node.js Modules apifabric-ca-clientfabric-client Classes ChainClientCouchDBKeyValueStoreCryptoKeyStoreCryptoSuite_ECDSA_AESCryptoSuite_PKCS11EventHubFabricCAClientFabricCAServicesFileKeyValueStoreapi.CryptoSuiteapi.Keyapi.KeyValueStoreOrdererPeerRemoteUser Tutorials app-developer-env-setupindexnode-sdk-guidenode-sdk-indepthsample-standalone-appsample-web-app Global Global sample-web-app Node.js Web ApplicationThe following is a web application template. It is NOT a complete program. This template code demonstrates how to communicate with a blockchain from a Node.js web application. It does not show how to listen for incoming requests nor how to authenticate your web users as this is application specific. The code below is intended to demonstrate how to interact with a Hyperledger fabric blockchain from an existing web application. You may retrieve the sample application file: curl -o app.js https://raw.githubusercontent.com/hyperledger/fabric/master/examples/sdk/node/web-app.js × Search results Close Documentation generated by JSDoc 3.4.3 on 2017-03-27T23:17:49+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
